# –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å –º–∏–≥—Ä–∞—Ü–∏–µ–π

## –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              IslandModel (–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ 1)                ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îÇ
‚îÇ  ‚îÇIsland 0‚îÇ  ‚îÇIsland 1‚îÇ  ‚îÇIsland 2‚îÇ  ‚îÇIsland 3‚îÇ        ‚îÇ
‚îÇ  ‚îÇ  (GA)  ‚îÇ  ‚îÇ  (GA)  ‚îÇ  ‚îÇ  (GA)  ‚îÇ  ‚îÇ  (GA)  ‚îÇ        ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îÇ
‚îÇ      ‚îÇ           ‚îÇ           ‚îÇ           ‚îÇ              ‚îÇ
‚îÇ      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò              ‚îÇ
‚îÇ                     ‚îÇ                                    ‚îÇ
‚îÇ                     ‚ñº                                    ‚îÇ
‚îÇ      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê               ‚îÇ
‚îÇ      ‚îÇ   MigrationManager (–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ 2)‚îÇ               ‚îÇ
‚îÇ      ‚îÇ  - –°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä –ø–∞—Ä           ‚îÇ               ‚îÇ
‚îÇ      ‚îÇ  - –í—ã–±–æ—Ä –º–∏–≥—Ä–∞–Ω—Ç–æ–≤                ‚îÇ               ‚îÇ
‚îÇ      ‚îÇ  - –ß–∞—Å—Ç–æ—Ç–∞ –º–∏–≥—Ä–∞—Ü–∏–∏               ‚îÇ               ‚îÇ
‚îÇ      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üü¶ –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö 1: Island Model (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ø—É–ª—è—Ü–∏—è–º–∏)

### –§–∞–π–ª: `classes/IslandModel.py`

### –í–∞—à–∏ –∑–∞–¥–∞—á–∏:

#### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ—Å—Ç—Ä–æ–≤–æ–≤ (`_initialize_islands`)
- –°–æ–∑–¥–∞—Ç—å `self.num_islands` —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ `GeneticAlgorithm`
- –ö–∞–∂–¥—ã–π –æ—Å—Ç—Ä–æ–≤ ‚Äî —ç—Ç–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è —ç–≤–æ–ª—é—Ü–∏—è
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

#### 2. –ú–µ—Ç–æ–¥—ã –¥–æ—Å—Ç—É–ø–∞ –∫ –æ—Å—Ç—Ä–æ–≤–∞–º
- `get_population_entities(island_id)` ‚Äî –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –æ—Å–æ–±–∏ —Å –æ—Å—Ç—Ä–æ–≤–∞
- `add_migrants(island_id, migrants)` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –º–∏–≥—Ä–∞–Ω—Ç–æ–≤ –Ω–∞ –æ—Å—Ç—Ä–æ–≤


#### 3. –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª —ç–≤–æ–ª—é—Ü–∏–∏ (`start_algorithm`)
- –î–ª—è –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏:
  - –í—ã–ø–æ–ª–Ω–∏—Ç—å **–æ–¥–∏–Ω —à–∞–≥** —ç–≤–æ–ª—é—Ü–∏–∏ –Ω–∞ –∫–∞–∂–¥–æ–º –æ—Å—Ç—Ä–æ–≤–µ
  - –í—ã–∑–≤–∞—Ç—å `_perform_migration(iteration)`
  - –û–±–Ω–æ–≤–∏—Ç—å –ª—É—á—à—É—é –æ—Å–æ–±—å (`_update_best_entity`)
  - –°–æ–±—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (`_collect_statistics`)

#### 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏ (`_perform_migration`)
```python
if not self.migration_strategy.should_migrate(iteration):
    return

pairs = self.migration_strategy.get_random_migration_pairs(
    self.num_islands, 
    self.migration_strategy.migration_pairs
)

for source_id, target_id in pairs:
    source_entities = self.get_population_entities(source_id)
    migrants = self.migration_strategy.select_migrants(
        source_entities, 
        self.migration_strategy.num_migrants
    )
    self.add_migrants(target_id, migrants)
```

#### 5. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- `_update_best_entity()` ‚Äî –Ω–∞–π—Ç–∏ –ª—É—á—à—É—é –æ—Å–æ–±—å –ø–æ –≤—Å–µ–º –æ—Å—Ç—Ä–æ–≤–∞–º
- `_collect_statistics()` ‚Äî —Å–æ–±—Ä–∞—Ç—å fitness —Å –∫–∞–∂–¥–æ–≥–æ –æ—Å—Ç—Ä–æ–≤–∞
- `plot_progression()` ‚Äî –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫ —Å –ª–∏–Ω–∏—è–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ—Å—Ç—Ä–æ–≤–∞
- `get_statistics()` ‚Äî –≤–µ—Ä–Ω—É—Ç—å —Å–ª–æ–≤–∞—Ä—å —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
- ‚úÖ `GeneticAlgorithm` ‚Äî —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ `Entity` ‚Äî —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ `Population` ‚Äî —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚è≥ `MigrationManager` ‚Äî —Å–æ–∑–¥–∞—ë—Ç –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ 2 (–≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)

### –í–∞–∂–Ω–æ:
- –í—ã **–ù–ï** —Ä–µ–∞–ª–∏–∑—É–µ—Ç–µ –ª–æ–≥–∏–∫—É –≤—ã–±–æ—Ä–∞ –ø–∞—Ä –∏ –º–∏–≥—Ä–∞–Ω—Ç–æ–≤
- –í—ã **–¢–û–õ–¨–ö–û** –≤—ã–∑—ã–≤–∞–µ—Ç–µ –º–µ—Ç–æ–¥—ã `migration_strategy`
- –ú–æ–∂–µ—Ç–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å `migration_strategy=None` (–±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–∏)

---

## üü© –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö 2: Migration Manager (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–µ–π)

### –§–∞–π–ª: `classes/MigrationManager.py`

### –í–∞—à–∏ –∑–∞–¥–∞—á–∏:

#### 1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–∏ (`should_migrate`)
```python
def should_migrate(self, iteration: int) -> bool:
    return iteration > 0 and iteration % self.migration_interval == 0
```

#### 2. –°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä –ø–∞—Ä –æ—Å—Ç—Ä–æ–≤–æ–≤ (`get_random_migration_pairs`)
- –í—ã–±—Ä–∞—Ç—å `num_pairs` —Å–ª—É—á–∞–π–Ω—ã—Ö –ø–∞—Ä –æ—Å—Ç—Ä–æ–≤–æ–≤
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `source != target`
- –ü—Ä–∏–º–µ—Ä: –¥–ª—è 4 –æ—Å—Ç—Ä–æ–≤–æ–≤ ‚Üí `[(0, 2), (1, 3)]`

```python
def get_random_migration_pairs(self, num_islands: int, num_pairs: int):
    pairs = []
    for _ in range(num_pairs):
        source = random.randint(0, num_islands - 1)
        target = random.randint(0, num_islands - 1)
        while target == source:
            target = random.randint(0, num_islands - 1)
        pairs.append((source, target))
    return pairs
```

#### 3. –í—ã–±–æ—Ä –º–∏–≥—Ä–∞–Ω—Ç–æ–≤ (`select_migrants`)

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å 3 —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:

##### a) **Elite** (–õ—É—á—à–∏–µ)
```python
sorted_entities = sorted(population_entities, 
                        key=lambda e: e.get_fitness(), 
                        reverse=True)
return sorted_entities[:num_migrants]
```

##### b) **Random** (–°–ª—É—á–∞–π–Ω—ã–µ)
```python
return random.sample(population_entities, num_migrants)
```

##### c) **Diverse** (–†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ)
- –í—ã–±—Ä–∞—Ç—å –æ—Å–æ–±–µ–π, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –æ—Ç–ª–∏—á–∞—é—â–∏—Ö—Å—è –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∂–∞–¥–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º:
  1. –í—ã–±—Ä–∞—Ç—å —Å–ª—É—á–∞–π–Ω—É—é –ø–µ—Ä–≤—É—é –æ—Å–æ–±—å
  2. –ö–∞–∂–¥—É—é —Å–ª–µ–¥—É—é—â—É—é –≤—ã–±–∏—Ä–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω–∞ –±—ã–ª–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥–∞–ª–µ–∫–∞ –æ—Ç —É–∂–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö

```python
selected = [random.choice(population_entities)]
remaining = [e for e in population_entities if e not in selected]

while len(selected) < num_migrants:
    best_candidate = None
    best_min_distance = -1
    
    for candidate in remaining:
        # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ —É–∂–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö
        min_dist = min(self._calculate_distance(candidate, s) 
                      for s in selected)
        if min_dist > best_min_distance:
            best_min_distance = min_dist
            best_candidate = candidate
    
    selected.append(best_candidate)
    remaining.remove(best_candidate)

return selected
```

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
- ‚úÖ `Entity` ‚Äî —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚è≥ `IslandModel` ‚Äî —Å–æ–∑–¥–∞—ë—Ç –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ 1 (–Ω–æ –≤—ã –ù–ï –∑–∞–≤–∏—Å–∏—Ç–µ –æ—Ç –Ω–µ–≥–æ –Ω–∞–ø—Ä—è–º—É—é)

### –í–∞–∂–Ω–æ:
- –í—ã **–ù–ï** —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å –æ—Å—Ç—Ä–æ–≤–∞–º–∏ –Ω–∞–ø—Ä—è–º—É—é
- –í—ã **–¢–û–õ–¨–ö–û** –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥—ã
- –ú–æ–∂–µ—Ç–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

---

## üìã –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

### –§–∞–π–ª: `interfaces/migration_interface.py`

–≠—Ç–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç –º–µ–∂–¥—É –¥–≤—É–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏. **–ù–ï –ò–ó–ú–ï–ù–Ø–ô–¢–ï** –µ–≥–æ –±–µ–∑ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è!

**–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ 1** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:
- `should_migrate(iteration)`
- `get_random_migration_pairs(num_islands, num_pairs)`
- `select_migrants(population_entities, num_migrants)`

**–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ 2** —Ä–µ–∞–ª–∏–∑—É–µ—Ç —ç—Ç–∏ –º–µ—Ç–æ–¥—ã –≤ `MigrationManager`.

---